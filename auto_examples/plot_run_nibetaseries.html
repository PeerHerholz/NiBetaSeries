

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Running NiBetaSeries using ds000164 (Stroop Task) &mdash; NiBetaSeries 0.2.2.post33+gd15fc3f documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/banner.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Workflows" href="../workflows.html" />
    <link rel="prev" title="How to run NiBetaSeries" href="index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> NiBetaSeries
          

          
          </a>

          
            
            
              <div class="version">
                0.2.2.post33+gd15fc3f
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">NiBetaSeries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../betaseries.html">Betaseries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">How to run NiBetaSeries</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Running NiBetaSeries using ds000164 (Stroop Task)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#import-all-the-necessary-packages">Import all the necessary packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#download-relevant-data-from-ds000164-and-atlas-files">Download relevant data from ds000164 (and Atlas Files)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#display-the-minimal-dataset-necessary-to-run-nibs">Display the minimal dataset necessary to run nibs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#manipulate-events-file-so-it-satifies-assumptions">Manipulate events file so it satifies assumptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#read-the-file">read the file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#change-the-y-n-to-1-0">change the Y/N to 1/0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-condition-with-trial-type">replace condition with trial_type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#save-the-file">save the file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#manipulate-the-region-order-file">Manipulate the region order file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#read-the-atlas-file">read the atlas file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#drop-coordinate-columns">drop coordinate columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rename-columns-with-the-approved-headings-index-and-regions">rename columns with the approved headings: “index” and “regions”</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remove-prefix-7networks">remove prefix “7Networks”</a></li>
<li class="toctree-l3"><a class="reference internal" href="#write-out-the-file-as-tsv">write out the file as .tsv</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#run-nibs">Run nibs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#observe-generated-outputs">Observe generated outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collect-results">Collect results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#graph-the-results">Graph the results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to NiBetaSeries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">0.2.2 (November 15, 2018)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html#november-13-2018">0.2.1 (November 13, 2018)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html#id1">0.2.0 (November 13, 2018)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html#id2">0.1.0 (2018-06-08)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NiBetaSeries</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">How to run NiBetaSeries</a> &raquo;</li>
        
      <li>Running NiBetaSeries using ds000164 (Stroop Task)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/auto_examples/plot_run_nibetaseries.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Click <a class="reference internal" href="#sphx-glr-download-auto-examples-plot-run-nibetaseries-py"><span class="std std-ref">here</span></a> to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="running-nibetaseries-using-ds000164-stroop-task">
<span id="sphx-glr-auto-examples-plot-run-nibetaseries-py"></span><h1>Running NiBetaSeries using ds000164 (Stroop Task)<a class="headerlink" href="#running-nibetaseries-using-ds000164-stroop-task" title="Permalink to this headline">¶</a></h1>
<p>This example runs through a basic call of NiBetaSeries using
the commandline entry point <code class="docutils literal notranslate"><span class="pre">nibs</span></code>.
While this example is using python, typically <code class="docutils literal notranslate"><span class="pre">nibs</span></code> will be
called directly on the commandline.</p>
</div>
<div class="section" id="import-all-the-necessary-packages">
<h1>Import all the necessary packages<a class="headerlink" href="#import-all-the-necessary-packages" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tempfile</span>  <span class="c1"># make a temporary directory for files</span>
<span class="kn">import</span> <span class="nn">os</span>  <span class="c1"># interact with the filesystem</span>
<span class="kn">import</span> <span class="nn">urllib.request</span>  <span class="c1"># grad data from internet</span>
<span class="kn">import</span> <span class="nn">tarfile</span>  <span class="c1"># extract files from tar</span>
<span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">Popen</span><span class="p">,</span> <span class="n">PIPE</span><span class="p">,</span> <span class="n">STDOUT</span>  <span class="c1"># enable calling commandline</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>  <span class="c1"># manipulate figures</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>  <span class="c1"># display results</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>   <span class="c1"># manipulate tabular data</span>
</pre></div>
</div>
</div>
<div class="section" id="download-relevant-data-from-ds000164-and-atlas-files">
<h1>Download relevant data from ds000164 (and Atlas Files)<a class="headerlink" href="#download-relevant-data-from-ds000164-and-atlas-files" title="Permalink to this headline">¶</a></h1>
<p>The subject data came from [openneuro](<a class="reference external" href="https://openneuro.org/datasets/ds000164/versions/00001/">https://openneuro.org/datasets/ds000164/versions/00001/</a>).
The atlas data came from a [recently published parcellation](<a class="reference external" href="https://www.ncbi.nlm.nih.gov/pubmed/28981612">https://www.ncbi.nlm.nih.gov/pubmed/28981612</a>)
in a publically accessible github repository.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># atlas github repo for reference:</span>
<span class="sd">&quot;&quot;&quot;https://github.com/ThomasYeoLab/CBIG/raw/master/stable_projects/\</span>
<span class="sd">brain_parcellation/Schaefer2018_LocalGlobal/Parcellations/MNI/&quot;&quot;&quot;</span>
<span class="n">data_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;Our working directory: {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data_dir</span><span class="p">))</span>

<span class="c1"># download the tar data</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.dropbox.com/s/qoqbiya1ou7vi78/ds000164-test_v1.tar.gz?dl=1&quot;</span>
<span class="n">tar_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="s2">&quot;ds000164.tar.gz&quot;</span><span class="p">)</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">u</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># write tar data to file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">tar_file</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># extract the data</span>
<span class="n">tar</span> <span class="o">=</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">tar_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r|gz&#39;</span><span class="p">)</span>
<span class="n">tar</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">data_dir</span><span class="p">)</span>

<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">tar_file</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Our working directory: /tmp/tmpw9qobqle
</pre></div>
</div>
</div>
<div class="section" id="display-the-minimal-dataset-necessary-to-run-nibs">
<h1>Display the minimal dataset necessary to run nibs<a class="headerlink" href="#display-the-minimal-dataset-necessary-to-run-nibs" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># https://stackoverflow.com/questions/9727673/list-directory-tree-structure-in-python</span>
<span class="k">def</span> <span class="nf">list_files</span><span class="p">(</span><span class="n">startpath</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">startpath</span><span class="p">):</span>
        <span class="n">level</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">startpath</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
        <span class="n">indent</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="n">level</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{}{}/&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">indent</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">root</span><span class="p">)))</span>
        <span class="n">subindent</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{}{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">subindent</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>


<span class="n">list_files</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>tmpw9qobqle/
    ds000164/
        T1w.json
        task-stroop_bold.json
        dataset_description.json
        task-stroop_events.json
        CHANGES
        README
        derivatives/
            fmriprep/
                sub-001/
                    func/
                        sub-001_task-stroop_bold_space-MNI152NLin2009cAsym_preproc.nii.gz
                        sub-001_task-stroop_bold_confounds.tsv
                        sub-001_task-stroop_bold_space-MNI152NLin2009cAsym_brainmask.nii.gz
            data/
                Schaefer2018_100Parcels_7Networks_order_FSLMNI152_2mm.nii.gz
                Schaefer2018_100Parcels_7Networks_order.txt
        sub-001/
            func/
                sub-001_task-stroop_bold.nii.gz
                sub-001_task-stroop_events.tsv
            anat/
                sub-001_T1w.nii.gz
</pre></div>
</div>
</div>
<div class="section" id="manipulate-events-file-so-it-satifies-assumptions">
<h1>Manipulate events file so it satifies assumptions<a class="headerlink" href="#manipulate-events-file-so-it-satifies-assumptions" title="Permalink to this headline">¶</a></h1>
<p>1. the correct column has 1’s and 0’s corresponding to correct and incorrect,
respectively.
2. the condition column is renamed to trial_type
nibs currently depends on the “correct” column being binary
and the “trial_type” column to contain the trial types of interest.</p>
<div class="section" id="read-the-file">
<h2>read the file<a class="headerlink" href="#read-the-file" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">events_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span>
                           <span class="s2">&quot;ds000164&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;sub-001&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;func&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;sub-001_task-stroop_events.tsv&quot;</span><span class="p">)</span>
<span class="n">events_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">events_file</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">na_values</span><span class="o">=</span><span class="s2">&quot;n/a&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">events_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>onset  duration correct  condition  response_time
0   0.342         1       Y    neutral          1.186
1   3.345         1       Y  congruent          0.667
2  12.346         1       Y  congruent          0.614
3  15.349         1       Y    neutral          0.696
4  18.350         1       Y    neutral          0.752
</pre></div>
</div>
</div>
<div class="section" id="change-the-y-n-to-1-0">
<h2>change the Y/N to 1/0<a class="headerlink" href="#change-the-y-n-to-1-0" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;correct&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s2">&quot;Y&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">events_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>onset  duration  correct  condition  response_time
0   0.342         1        1    neutral          1.186
1   3.345         1        1  congruent          0.667
2  12.346         1        1  congruent          0.614
3  15.349         1        1    neutral          0.696
4  18.350         1        1    neutral          0.752
</pre></div>
</div>
</div>
<div class="section" id="replace-condition-with-trial-type">
<h2>replace condition with trial_type<a class="headerlink" href="#replace-condition-with-trial-type" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">events_df</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="s2">&quot;trial_type&quot;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">events_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>onset  duration  correct trial_type  response_time
0   0.342         1        1    neutral          1.186
1   3.345         1        1  congruent          0.667
2  12.346         1        1  congruent          0.614
3  15.349         1        1    neutral          0.696
4  18.350         1        1    neutral          0.752
</pre></div>
</div>
</div>
<div class="section" id="save-the-file">
<h2>save the file<a class="headerlink" href="#save-the-file" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">events_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">events_file</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">na_rep</span><span class="o">=</span><span class="s2">&quot;n/a&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="manipulate-the-region-order-file">
<h1>Manipulate the region order file<a class="headerlink" href="#manipulate-the-region-order-file" title="Permalink to this headline">¶</a></h1>
<p>There are several adjustments to the atlas file that need to be completed
before we can pass it into nibs.
Importantly, the relevant column names <strong>MUST</strong> be named “index” and “regions”.
“index” refers to which integer within the file corresponds to which region
in the atlas nifti file.
“regions” refers the name of each region in the atlas nifti file.</p>
<div class="section" id="read-the-atlas-file">
<h2>read the atlas file<a class="headerlink" href="#read-the-atlas-file" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">atlas_txt</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span>
                         <span class="s2">&quot;ds000164&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;derivatives&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;data&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;Schaefer2018_100Parcels_7Networks_order.txt&quot;</span><span class="p">)</span>
<span class="n">atlas_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">atlas_txt</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">atlas_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>0                   1    2   3    4  5
0  1  7Networks_LH_Vis_1  120  18  131  0
1  2  7Networks_LH_Vis_2  120  18  132  0
2  3  7Networks_LH_Vis_3  120  18  133  0
3  4  7Networks_LH_Vis_4  120  18  135  0
4  5  7Networks_LH_Vis_5  120  18  136  0
</pre></div>
</div>
</div>
<div class="section" id="drop-coordinate-columns">
<h2>drop coordinate columns<a class="headerlink" href="#drop-coordinate-columns" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">atlas_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">atlas_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>0                   1
0  1  7Networks_LH_Vis_1
1  2  7Networks_LH_Vis_2
2  3  7Networks_LH_Vis_3
3  4  7Networks_LH_Vis_4
4  5  7Networks_LH_Vis_5
</pre></div>
</div>
</div>
<div class="section" id="rename-columns-with-the-approved-headings-index-and-regions">
<h2>rename columns with the approved headings: “index” and “regions”<a class="headerlink" href="#rename-columns-with-the-approved-headings-index-and-regions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">atlas_df</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;regions&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">atlas_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>index             regions
0      1  7Networks_LH_Vis_1
1      2  7Networks_LH_Vis_2
2      3  7Networks_LH_Vis_3
3      4  7Networks_LH_Vis_4
4      5  7Networks_LH_Vis_5
</pre></div>
</div>
</div>
<div class="section" id="remove-prefix-7networks">
<h2>remove prefix “7Networks”<a class="headerlink" href="#remove-prefix-7networks" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">atlas_df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">regex</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;7Networks_(.*)&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">1&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">atlas_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>index   regions
0      1  LH_Vis_1
1      2  LH_Vis_2
2      3  LH_Vis_3
3      4  LH_Vis_4
4      5  LH_Vis_5
</pre></div>
</div>
</div>
<div class="section" id="write-out-the-file-as-tsv">
<h2>write out the file as .tsv<a class="headerlink" href="#write-out-the-file-as-tsv" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">atlas_tsv</span> <span class="o">=</span> <span class="n">atlas_txt</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;.tsv&quot;</span><span class="p">)</span>
<span class="n">atlas_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">atlas_tsv</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="run-nibs">
<h1>Run nibs<a class="headerlink" href="#run-nibs" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="s2">&quot;ds000164&quot;</span><span class="p">,</span> <span class="s2">&quot;derivatives&quot;</span><span class="p">)</span>
<span class="n">work_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">out_dir</span><span class="p">,</span> <span class="s2">&quot;work&quot;</span><span class="p">)</span>
<span class="n">atlas_mni_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span>
                              <span class="s2">&quot;ds000164&quot;</span><span class="p">,</span>
                              <span class="s2">&quot;derivatives&quot;</span><span class="p">,</span>
                              <span class="s2">&quot;data&quot;</span><span class="p">,</span>
                              <span class="s2">&quot;Schaefer2018_100Parcels_7Networks_order_FSLMNI152_2mm.nii.gz&quot;</span><span class="p">)</span>
<span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">nibs -c WhiteMatter CSF </span><span class="se">\</span>
<span class="s2">--participant_label 001 </span><span class="se">\</span>
<span class="s2">-w {work_dir} </span><span class="se">\</span>
<span class="s2">-a {atlas_mni_file} </span><span class="se">\</span>
<span class="s2">-l {atlas_tsv} </span><span class="se">\</span>
<span class="s2">{bids_dir} </span><span class="se">\</span>
<span class="s2">fmriprep </span><span class="se">\</span>
<span class="s2">{out_dir} </span><span class="se">\</span>
<span class="s2">participant</span>
<span class="s2">&quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">atlas_mni_file</span><span class="o">=</span><span class="n">atlas_mni_file</span><span class="p">,</span>
           <span class="n">atlas_tsv</span><span class="o">=</span><span class="n">atlas_tsv</span><span class="p">,</span>
           <span class="n">bids_dir</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="s2">&quot;ds000164&quot;</span><span class="p">),</span>
           <span class="n">out_dir</span><span class="o">=</span><span class="n">out_dir</span><span class="p">,</span>
           <span class="n">work_dir</span><span class="o">=</span><span class="n">work_dir</span><span class="p">)</span>
<span class="c1"># call nibs</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">STDOUT</span><span class="p">)</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>b&quot;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/site-packages/grabbit/core.py:448: UserWarning: Domain with name &#39;bids&#39; already exists; returning existing Domain configuration.\n&quot;
b&#39;  warnings.warn(msg)\n&#39;
b&#39;181214-08:16:37,497 nipype.workflow INFO:\n&#39;
b&quot;\t Workflow nibetaseries_participant_wf settings: [&#39;check&#39;, &#39;execution&#39;, &#39;logging&#39;, &#39;monitoring&#39;]\n&quot;
b&#39;181214-08:16:37,508 nipype.workflow INFO:\n&#39;
b&#39;\t Running in parallel.\n&#39;
b&#39;181214-08:16:37,510 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:16:37,562 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;nibetaseries_participant_wf.single_subject001_wf.betaseries_wf.betaseries_node&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/betaseries_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/betaseries_node&quot;.\n&#39;
b&#39;181214-08:16:37,567 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;betaseries_node&quot; (&quot;nibetaseries.interfaces.nistats.BetaSeries&quot;)\n&#39;
b&quot;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/importlib/_bootstrap.py:219: ImportWarning: can&#39;t resolve package from __spec__ or __package__, falling back on __name__ and __path__\n&quot;
b&#39;  return f(*args, **kwds)\n&#39;
b&#39;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/site-packages/nibabel/nifti1.py:582: DeprecationWarning: The binary mode of fromstring is deprecated, as it behaves surprisingly on unicode inputs. Use frombuffer instead\n&#39;
b&#39;  ext_def = np.fromstring(ext_def, dtype=np.int32)\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&quot;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/site-packages/nistats/hemodynamic_models.py:268: DeprecationWarning: object of type &lt;class &#39;numpy.float64&#39;&gt; cannot be safely interpreted as an integer.\n&quot;
b&#39;  frame_times.max() * (1 + 1. / (n - 1)), n_hr)\n&#39;
b&quot;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/site-packages/nistats/hemodynamic_models.py:55: DeprecationWarning: object of type &lt;class &#39;float&#39;&gt; cannot be safely interpreted as an integer.\n&quot;
b&#39;  time_stamps = np.linspace(0, time_length, float(time_length) / dt)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;181214-08:16:39,513 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 1 tasks, and 0 jobs ready. Free memory (GB): 6.37/6.57, Free processors: 1/2.\n&#39;
b&#39;                     Currently running:\n&#39;
b&#39;                       * nibetaseries_participant_wf.single_subject001_wf.betaseries_wf.betaseries_node\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 1 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;Computing run 1 out of 1 runs (go take a coffee, a big one)\n&#39;
b&#39;\n&#39;
b&#39;Computation of 1 runs done in 0 seconds\n&#39;
b&#39;\n&#39;
b&#39;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/site-packages/nipype/pipeline/engine/utils.py:307: DeprecationWarning: use &quot;HasTraits.trait_set&quot; instead\n&#39;
b&#39;  result.outputs.set(**modify_paths(tosave, relative=True, basedir=cwd))\n&#39;
b&#39;181214-08:18:36,968 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;nibetaseries_participant_wf.single_subject001_wf.betaseries_wf.betaseries_node&quot;.\n&#39;
b&#39;181214-08:18:37,629 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 0] Completed (nibetaseries_participant_wf.single_subject001_wf.betaseries_wf.betaseries_node).\n&#39;
b&#39;181214-08:18:37,631 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:39,632 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 3 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:39,674 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_atlas_corr_node0&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/atlas_corr_node/mapflow/_atlas_corr_node0&quot;.\n&#39;
b&#39;181214-08:18:39,676 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_atlas_corr_node1&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/atlas_corr_node/mapflow/_atlas_corr_node1&quot;.\n&#39;
b&#39;181214-08:18:39,678 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_atlas_corr_node1&quot; (&quot;nibetaseries.interfaces.nilearn.AtlasConnectivity&quot;)\n&#39;
b&#39;181214-08:18:39,678 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_atlas_corr_node0&quot; (&quot;nibetaseries.interfaces.nilearn.AtlasConnectivity&quot;)\n&#39;
b&quot;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/importlib/_bootstrap.py:219: ImportWarning: can&#39;t resolve package from __spec__ or __package__, falling back on __name__ and __path__\n&quot;
b&#39;  return f(*args, **kwds)\n&#39;
b&quot;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/importlib/_bootstrap.py:219: ImportWarning: can&#39;t resolve package from __spec__ or __package__, falling back on __name__ and __path__\n&quot;
b&#39;  return f(*args, **kwds)\n&#39;
b&quot;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/importlib/_bootstrap.py:219: ImportWarning: can&#39;t resolve package from __spec__ or __package__, falling back on __name__ and __path__\n&quot;
b&#39;  return f(*args, **kwds)\n&#39;
b&#39;[NiftiLabelsMasker.fit_transform] loading data from /tmp/tmpw9qobqle/ds000164/derivatives/data/Schaefer2018_100Parcels_7Networks_order_FSLMNI152_2mm.nii.gz\n&#39;
b&#39;[NiftiLabelsMasker.fit_transform] loading data from /tmp/tmpw9qobqle/ds000164/derivatives/data/Schaefer2018_100Parcels_7Networks_order_FSLMNI152_2mm.nii.gz\n&#39;
b&#39;Resampling labels\n&#39;
b&#39;Resampling labels\n&#39;
b&#39;[NiftiLabelsMasker.transform_single_imgs] Loading data from /tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/betaseries_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/betaseries_node/betaseries_trialtyp\n&#39;
b&#39;[NiftiLabelsMasker.transform_single_imgs] Loading data from /tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/betaseries_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/betaseries_node/betaseries_trialtyp\n&#39;
b&#39;[NiftiLabelsMasker.transform_single_imgs] Extracting region signals\n&#39;
b&#39;[NiftiLabelsMasker.transform_single_imgs] Extracting region signals\n&#39;
b&quot;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/importlib/_bootstrap.py:219: ImportWarning: can&#39;t resolve package from __spec__ or __package__, falling back on __name__ and __path__\n&quot;
b&#39;  return f(*args, **kwds)\n&#39;
b&quot;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/importlib/_bootstrap.py:219: ImportWarning: can&#39;t resolve package from __spec__ or __package__, falling back on __name__ and __path__\n&quot;
b&#39;  return f(*args, **kwds)\n&#39;
b&#39;[NiftiLabelsMasker.transform_single_imgs] Cleaning extracted signals\n&#39;
b&#39;[NiftiLabelsMasker.transform_single_imgs] Cleaning extracted signals\n&#39;
b&#39;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/site-packages/nipype/pipeline/engine/utils.py:307: DeprecationWarning: use &quot;HasTraits.trait_set&quot; instead\n&#39;
b&#39;  result.outputs.set(**modify_paths(tosave, relative=True, basedir=cwd))\n&#39;
b&#39;181214-08:18:40,484 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_atlas_corr_node1&quot;.\n&#39;
b&#39;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/site-packages/nipype/pipeline/engine/utils.py:307: DeprecationWarning: use &quot;HasTraits.trait_set&quot; instead\n&#39;
b&#39;  result.outputs.set(**modify_paths(tosave, relative=True, basedir=cwd))\n&#39;
b&#39;181214-08:18:40,494 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_atlas_corr_node0&quot;.\n&#39;
b&#39;181214-08:18:41,633 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 4] Completed (_atlas_corr_node0).\n&#39;
b&#39;181214-08:18:41,634 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 5] Completed (_atlas_corr_node1).\n&#39;
b&#39;181214-08:18:41,635 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:41,677 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_atlas_corr_node2&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/atlas_corr_node/mapflow/_atlas_corr_node2&quot;.\n&#39;
b&#39;181214-08:18:41,679 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_atlas_corr_node2&quot; (&quot;nibetaseries.interfaces.nilearn.AtlasConnectivity&quot;)\n&#39;
b&#39;[NiftiLabelsMasker.fit_transform] loading data from /tmp/tmpw9qobqle/ds000164/derivatives/data/Schaefer2018_100Parcels_7Networks_order_FSLMNI152_2mm.nii.gz\n&#39;
b&#39;Resampling labels\n&#39;
b&#39;[NiftiLabelsMasker.transform_single_imgs] Loading data from /tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/betaseries_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/betaseries_node/betaseries_trialtyp\n&#39;
b&#39;[NiftiLabelsMasker.transform_single_imgs] Extracting region signals\n&#39;
b&#39;[NiftiLabelsMasker.transform_single_imgs] Cleaning extracted signals\n&#39;
b&#39;/home/travis/build/HBClab/NiBetaSeries/.tox/docs/lib/python3.6/site-packages/nipype/pipeline/engine/utils.py:307: DeprecationWarning: use &quot;HasTraits.trait_set&quot; instead\n&#39;
b&#39;  result.outputs.set(**modify_paths(tosave, relative=True, basedir=cwd))\n&#39;
b&#39;181214-08:18:41,953 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_atlas_corr_node2&quot;.\n&#39;
b&#39;181214-08:18:43,636 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 6] Completed (_atlas_corr_node2).\n&#39;
b&#39;181214-08:18:43,637 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:43,681 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;nibetaseries_participant_wf.single_subject001_wf.correlation_wf.atlas_corr_node&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/atlas_corr_node&quot;.\n&#39;
b&#39;181214-08:18:43,684 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_atlas_corr_node0&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/atlas_corr_node/mapflow/_atlas_corr_node0&quot;.\n&#39;
b&#39;181214-08:18:43,685 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Cached &quot;_atlas_corr_node0&quot; - collecting precomputed outputs\n&#39;
b&#39;181214-08:18:43,685 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] &quot;_atlas_corr_node0&quot; found cached.\n&#39;
b&#39;181214-08:18:43,686 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_atlas_corr_node1&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/atlas_corr_node/mapflow/_atlas_corr_node1&quot;.\n&#39;
b&#39;181214-08:18:43,687 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Cached &quot;_atlas_corr_node1&quot; - collecting precomputed outputs\n&#39;
b&#39;181214-08:18:43,687 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] &quot;_atlas_corr_node1&quot; found cached.\n&#39;
b&#39;181214-08:18:43,688 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_atlas_corr_node2&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/atlas_corr_node/mapflow/_atlas_corr_node2&quot;.\n&#39;
b&#39;181214-08:18:43,689 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Cached &quot;_atlas_corr_node2&quot; - collecting precomputed outputs\n&#39;
b&#39;181214-08:18:43,689 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] &quot;_atlas_corr_node2&quot; found cached.\n&#39;
b&#39;181214-08:18:43,693 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;nibetaseries_participant_wf.single_subject001_wf.correlation_wf.atlas_corr_node&quot;.\n&#39;
b&#39;181214-08:18:45,638 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 1] Completed (nibetaseries_participant_wf.single_subject001_wf.correlation_wf.atlas_corr_node).\n&#39;
b&#39;181214-08:18:45,639 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:47,640 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 3 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:47,683 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_rename_matrix_node0&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/rename_matrix_node/mapflow/_rename_matrix_node0&quot;.\n&#39;
b&#39;181214-08:18:47,685 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_rename_matrix_node0&quot; (&quot;nipype.interfaces.utility.wrappers.Function&quot;)\n&#39;
b&#39;181214-08:18:47,688 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_rename_matrix_node1&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/rename_matrix_node/mapflow/_rename_matrix_node1&quot;.\n&#39;
b&#39;181214-08:18:47,691 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_rename_matrix_node1&quot; (&quot;nipype.interfaces.utility.wrappers.Function&quot;)\n&#39;
b&#39;181214-08:18:47,693 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_rename_matrix_node0&quot;.\n&#39;
b&#39;181214-08:18:47,698 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_rename_matrix_node1&quot;.\n&#39;
b&#39;181214-08:18:49,642 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 7] Completed (_rename_matrix_node0).\n&#39;
b&#39;181214-08:18:49,643 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 8] Completed (_rename_matrix_node1).\n&#39;
b&#39;181214-08:18:49,644 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:49,687 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_rename_matrix_node2&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/rename_matrix_node/mapflow/_rename_matrix_node2&quot;.\n&#39;
b&#39;181214-08:18:49,689 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_rename_matrix_node2&quot; (&quot;nipype.interfaces.utility.wrappers.Function&quot;)\n&#39;
b&#39;181214-08:18:49,694 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_rename_matrix_node2&quot;.\n&#39;
b&#39;181214-08:18:51,644 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 9] Completed (_rename_matrix_node2).\n&#39;
b&#39;181214-08:18:51,645 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:51,699 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;nibetaseries_participant_wf.single_subject001_wf.correlation_wf.rename_matrix_node&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/rename_matrix_node&quot;.\n&#39;
b&#39;181214-08:18:51,702 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_rename_matrix_node0&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/rename_matrix_node/mapflow/_rename_matrix_node0&quot;.\n&#39;
b&#39;181214-08:18:51,703 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Cached &quot;_rename_matrix_node0&quot; - collecting precomputed outputs\n&#39;
b&#39;181214-08:18:51,703 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] &quot;_rename_matrix_node0&quot; found cached.\n&#39;
b&#39;181214-08:18:51,704 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_rename_matrix_node1&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/rename_matrix_node/mapflow/_rename_matrix_node1&quot;.\n&#39;
b&#39;181214-08:18:51,705 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Cached &quot;_rename_matrix_node1&quot; - collecting precomputed outputs\n&#39;
b&#39;181214-08:18:51,705 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] &quot;_rename_matrix_node1&quot; found cached.\n&#39;
b&#39;181214-08:18:51,706 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_rename_matrix_node2&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/correlation_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/rename_matrix_node/mapflow/_rename_matrix_node2&quot;.\n&#39;
b&#39;181214-08:18:51,707 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Cached &quot;_rename_matrix_node2&quot; - collecting precomputed outputs\n&#39;
b&#39;181214-08:18:51,707 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] &quot;_rename_matrix_node2&quot; found cached.\n&#39;
b&#39;181214-08:18:51,711 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;nibetaseries_participant_wf.single_subject001_wf.correlation_wf.rename_matrix_node&quot;.\n&#39;
b&#39;181214-08:18:53,646 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 2] Completed (nibetaseries_participant_wf.single_subject001_wf.correlation_wf.rename_matrix_node).\n&#39;
b&#39;181214-08:18:53,648 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:55,649 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 3 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:55,714 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_ds_correlation_matrix0&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/ds_correlation_matrix/mapflow/_ds_correlation_matrix0&quot;.\n&#39;
b&#39;181214-08:18:55,716 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_ds_correlation_matrix1&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/ds_correlation_matrix/mapflow/_ds_correlation_matrix1&quot;.\n&#39;
b&#39;181214-08:18:55,716 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_ds_correlation_matrix0&quot; (&quot;nibetaseries.interfaces.bids.DerivativesDataSink&quot;)\n&#39;
b&#39;181214-08:18:55,718 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_ds_correlation_matrix1&quot; (&quot;nibetaseries.interfaces.bids.DerivativesDataSink&quot;)\n&#39;
b&#39;181214-08:18:55,722 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_ds_correlation_matrix0&quot;.\n&#39;
b&#39;181214-08:18:55,723 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_ds_correlation_matrix1&quot;.\n&#39;
b&#39;181214-08:18:57,650 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 10] Completed (_ds_correlation_matrix0).\n&#39;
b&#39;181214-08:18:57,651 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 11] Completed (_ds_correlation_matrix1).\n&#39;
b&#39;181214-08:18:57,652 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:57,703 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_ds_correlation_matrix2&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/ds_correlation_matrix/mapflow/_ds_correlation_matrix2&quot;.\n&#39;
b&#39;181214-08:18:57,706 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_ds_correlation_matrix2&quot; (&quot;nibetaseries.interfaces.bids.DerivativesDataSink&quot;)\n&#39;
b&#39;181214-08:18:57,711 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_ds_correlation_matrix2&quot;.\n&#39;
b&#39;181214-08:18:59,652 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 12] Completed (_ds_correlation_matrix2).\n&#39;
b&#39;181214-08:18:59,653 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
b&#39;181214-08:18:59,699 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;nibetaseries_participant_wf.single_subject001_wf.ds_correlation_matrix&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/ds_correlation_matrix&quot;.\n&#39;
b&#39;181214-08:18:59,703 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_ds_correlation_matrix0&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/ds_correlation_matrix/mapflow/_ds_correlation_matrix0&quot;.\n&#39;
b&#39;181214-08:18:59,705 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_ds_correlation_matrix0&quot; (&quot;nibetaseries.interfaces.bids.DerivativesDataSink&quot;)\n&#39;
b&#39;181214-08:18:59,711 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_ds_correlation_matrix0&quot;.\n&#39;
b&#39;181214-08:18:59,712 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_ds_correlation_matrix1&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/ds_correlation_matrix/mapflow/_ds_correlation_matrix1&quot;.\n&#39;
b&#39;181214-08:18:59,714 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_ds_correlation_matrix1&quot; (&quot;nibetaseries.interfaces.bids.DerivativesDataSink&quot;)\n&#39;
b&#39;181214-08:18:59,719 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_ds_correlation_matrix1&quot;.\n&#39;
b&#39;181214-08:18:59,720 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Setting-up &quot;_ds_correlation_matrix2&quot; in &quot;/tmp/tmpw9qobqle/ds000164/derivatives/work/NiBetaSeries_work/nibetaseries_participant_wf/single_subject001_wf/de968b0215b6f5aad24f9434c99026ce58f2c7d9/ds_correlation_matrix/mapflow/_ds_correlation_matrix2&quot;.\n&#39;
b&#39;181214-08:18:59,722 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Running &quot;_ds_correlation_matrix2&quot; (&quot;nibetaseries.interfaces.bids.DerivativesDataSink&quot;)\n&#39;
b&#39;181214-08:18:59,728 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;_ds_correlation_matrix2&quot;.\n&#39;
b&#39;181214-08:18:59,732 nipype.workflow INFO:\n&#39;
b&#39;\t [Node] Finished &quot;nibetaseries_participant_wf.single_subject001_wf.ds_correlation_matrix&quot;.\n&#39;
b&#39;181214-08:19:01,654 nipype.workflow INFO:\n&#39;
b&#39;\t [Job 3] Completed (nibetaseries_participant_wf.single_subject001_wf.ds_correlation_matrix).\n&#39;
b&#39;181214-08:19:01,656 nipype.workflow INFO:\n&#39;
b&#39;\t [MultiProc] Running 0 tasks, and 0 jobs ready. Free memory (GB): 6.57/6.57, Free processors: 2/2.\n&#39;
</pre></div>
</div>
</div>
<div class="section" id="observe-generated-outputs">
<h1>Observe generated outputs<a class="headerlink" href="#observe-generated-outputs" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">list_files</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>tmpw9qobqle/
    ds000164/
        T1w.json
        task-stroop_bold.json
        dataset_description.json
        task-stroop_events.json
        CHANGES
        README
        derivatives/
            fmriprep/
                sub-001/
                    func/
                        sub-001_task-stroop_bold_space-MNI152NLin2009cAsym_preproc.nii.gz
                        sub-001_task-stroop_bold_confounds.tsv
                        sub-001_task-stroop_bold_space-MNI152NLin2009cAsym_brainmask.nii.gz
            NiBetaSeries/
                logs/
                nibetaseries/
                    sub-001/
                        func/
                            sub-001_task-stroop_bold_space-MNI152NLin2009cAsym_preproc_trialtype-congruent_matrix.tsv
                            sub-001_task-stroop_bold_space-MNI152NLin2009cAsym_preproc_trialtype-neutral_matrix.tsv
                            sub-001_task-stroop_bold_space-MNI152NLin2009cAsym_preproc_trialtype-incongruent_matrix.tsv
            data/
                Schaefer2018_100Parcels_7Networks_order.tsv
                Schaefer2018_100Parcels_7Networks_order_FSLMNI152_2mm.nii.gz
                Schaefer2018_100Parcels_7Networks_order.txt
            work/
                NiBetaSeries_work/
                    nibetaseries_participant_wf/
                        index.html
                        graph.json
                        graph1.json
                        d3.js
                        single_subject001_wf/
                            de968b0215b6f5aad24f9434c99026ce58f2c7d9/
                                ds_correlation_matrix/
                                    _node.pklz
                                    _0x567439912c8ede9f5f9ec24b0d506253.json
                                    _inputs.pklz
                                    result_ds_correlation_matrix.pklz
                                    mapflow/
                                        _ds_correlation_matrix2/
                                            _0xf3a905dbb57ff962b4d295ed6bf7526b.json
                                            _node.pklz
                                            _inputs.pklz
                                            result__ds_correlation_matrix2.pklz
                                            _report/
                                                report.rst
                                        _ds_correlation_matrix1/
                                            result__ds_correlation_matrix1.pklz
                                            _node.pklz
                                            _inputs.pklz
                                            _0x0c70c5d51228de6c752eabf19cd2861a.json
                                            _report/
                                                report.rst
                                        _ds_correlation_matrix0/
                                            result__ds_correlation_matrix0.pklz
                                            _node.pklz
                                            _inputs.pklz
                                            _0x382561ea682458705f5f0204d1946f95.json
                                            _report/
                                                report.rst
                                    _report/
                                        report.rst
                            correlation_wf/
                                de968b0215b6f5aad24f9434c99026ce58f2c7d9/
                                    rename_matrix_node/
                                        result_rename_matrix_node.pklz
                                        _node.pklz
                                        _inputs.pklz
                                        _0x39ea86f8f6b16f0c9dfd352e4d32a5f2.json
                                        mapflow/
                                            _rename_matrix_node1/
                                                _0x337b7dfac7697e49baa55f9fb623a770.json
                                                result__rename_matrix_node1.pklz
                                                _node.pklz
                                                _inputs.pklz
                                                correlation-matrix_trialtype-congruent.tsv
                                                _report/
                                                    report.rst
                                            _rename_matrix_node2/
                                                _0x453991233c2d734d394cb87a770cd0cb.json
                                                _node.pklz
                                                correlation-matrix_trialtype-incongruent.tsv
                                                _inputs.pklz
                                                result__rename_matrix_node2.pklz
                                                _report/
                                                    report.rst
                                            _rename_matrix_node0/
                                                _node.pklz
                                                result__rename_matrix_node0.pklz
                                                _inputs.pklz
                                                _0xa2b1f77e2ac5e2cb1d229602e7a27d72.json
                                                correlation-matrix_trialtype-neutral.tsv
                                                _report/
                                                    report.rst
                                        _report/
                                            report.rst
                                    atlas_corr_node/
                                        _node.pklz
                                        _0x67b09188e127310356bbe888749099a1.json
                                        _inputs.pklz
                                        result_atlas_corr_node.pklz
                                        mapflow/
                                            _atlas_corr_node1/
                                                _node.pklz
                                                _0x29aa751fb50239754baca6c3ca8122a4.json
                                                _inputs.pklz
                                                fisher_z_correlation.tsv
                                                result__atlas_corr_node1.pklz
                                                _report/
                                                    report.rst
                                            _atlas_corr_node0/
                                                _node.pklz
                                                _inputs.pklz
                                                fisher_z_correlation.tsv
                                                result__atlas_corr_node0.pklz
                                                _0xa75342c1c53032fe75b40dffd72a42ae.json
                                                _report/
                                                    report.rst
                                            _atlas_corr_node2/
                                                _0x12ef49b3ff14717a1f868b8966fd5d17.json
                                                _node.pklz
                                                _inputs.pklz
                                                fisher_z_correlation.tsv
                                                result__atlas_corr_node2.pklz
                                                _report/
                                                    report.rst
                                        _report/
                                            report.rst
                            betaseries_wf/
                                de968b0215b6f5aad24f9434c99026ce58f2c7d9/
                                    betaseries_node/
                                        result_betaseries_node.pklz
                                        _0xf010539374b261752bae4a728548e804.json
                                        betaseries_trialtype-incongruent.nii.gz
                                        _node.pklz
                                        _inputs.pklz
                                        betaseries_trialtype-congruent.nii.gz
                                        betaseries_trialtype-neutral.nii.gz
                                        _report/
                                            report.rst
        sub-001/
            func/
                sub-001_task-stroop_bold.nii.gz
                sub-001_task-stroop_events.tsv
            anat/
                sub-001_T1w.nii.gz
</pre></div>
</div>
</div>
<div class="section" id="collect-results">
<h1>Collect results<a class="headerlink" href="#collect-results" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">corr_mat_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">out_dir</span><span class="p">,</span> <span class="s2">&quot;NiBetaSeries&quot;</span><span class="p">,</span> <span class="s2">&quot;nibetaseries&quot;</span><span class="p">,</span> <span class="s2">&quot;sub-001&quot;</span><span class="p">,</span> <span class="s2">&quot;func&quot;</span><span class="p">)</span>
<span class="n">trial_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;congruent&#39;</span><span class="p">,</span> <span class="s1">&#39;incongruent&#39;</span><span class="p">,</span> <span class="s1">&#39;neutral&#39;</span><span class="p">]</span>
<span class="n">filename_template</span> <span class="o">=</span> <span class="s2">&quot;sub-001_task-stroop_bold_space-MNI152NLin2009cAsym_preproc_trialtype-{trial_type}_matrix.tsv&quot;</span>
<span class="n">pd_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">trial_type</span> <span class="ow">in</span> <span class="n">trial_types</span><span class="p">:</span>
    <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">corr_mat_path</span><span class="p">,</span> <span class="n">filename_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">trial_type</span><span class="o">=</span><span class="n">trial_type</span><span class="p">))</span>
    <span class="n">pd_dict</span><span class="p">[</span><span class="n">trial_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">na_values</span><span class="o">=</span><span class="s2">&quot;n/a&quot;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># display example matrix</span>
<span class="k">print</span><span class="p">(</span><span class="n">pd_dict</span><span class="p">[</span><span class="n">trial_type</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>LH_Vis_1  LH_Vis_2  LH_Vis_3  LH_Vis_4  LH_Vis_5  LH_Vis_6  \
LH_Vis_1       NaN  0.092135 -0.003990  0.075498  0.314494  0.200974
LH_Vis_2  0.092135       NaN  0.216346 -0.088788  0.354525  0.200845
LH_Vis_3 -0.003990  0.216346       NaN  0.121108  0.024211 -0.017023
LH_Vis_4  0.075498 -0.088788  0.121108       NaN  0.391487  0.086831
LH_Vis_5  0.314494  0.354525  0.024211  0.391487       NaN  0.684127

          LH_Vis_7  LH_Vis_8  LH_Vis_9  LH_SomMot_1        ...         \
LH_Vis_1  0.239164  0.427561  0.308963     0.464095        ...
LH_Vis_2  0.366618  0.503700  0.651302     0.227458        ...
LH_Vis_3  0.288440  0.359370  0.279559     0.137909        ...
LH_Vis_4 -0.045984  0.046370 -0.341859     0.054590        ...
LH_Vis_5  0.112842  0.402056  0.227464     0.261586        ...

          RH_Default_Temp_1  RH_Default_Temp_2  RH_Default_Temp_3  \
LH_Vis_1          -0.291550           0.372750           0.286004
LH_Vis_2          -0.069372          -0.242429           0.256738
LH_Vis_3          -0.009119          -0.358564           0.247385
LH_Vis_4           0.161443          -0.098717           0.235617
LH_Vis_5           0.032909           0.066685           0.667094

          RH_Default_PFCv_1  RH_Default_PFCv_2  RH_Default_PFCm_1  \
LH_Vis_1           0.091409           0.252337           0.303994
LH_Vis_2          -0.150865           0.163372           0.222549
LH_Vis_3           0.092498           0.033905           0.506486
LH_Vis_4           0.089904           0.289122           0.196155
LH_Vis_5           0.191565           0.447684           0.092790

          RH_Default_PFCm_2  RH_Default_PFCm_3  RH_Default_PCC_1  \
LH_Vis_1           0.196831           0.343553          0.095624
LH_Vis_2           0.032079           0.086436         -0.119613
LH_Vis_3           0.193366           0.207421          0.202673
LH_Vis_4           0.378814           0.258830         -0.019256
LH_Vis_5           0.252374           0.382709         -0.235334

          RH_Default_PCC_2
LH_Vis_1          0.016799
LH_Vis_2         -0.007679
LH_Vis_3          0.177828
LH_Vis_4         -0.034034
LH_Vis_5          0.032317

[5 rows x 100 columns]
</pre></div>
</div>
</div>
<div class="section" id="graph-the-results">
<h1>Graph the results<a class="headerlink" href="#graph-the-results" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>
                         <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;wspace&#39;</span><span class="p">:</span> <span class="mf">0.025</span><span class="p">,</span> <span class="s1">&#39;hspace&#39;</span><span class="p">:</span> <span class="mf">0.075</span><span class="p">})</span>

<span class="n">cbar_ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="o">.</span><span class="mi">91</span><span class="p">,</span> <span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="o">.</span><span class="mo">03</span><span class="p">,</span> <span class="o">.</span><span class="mi">4</span><span class="p">])</span>
<span class="n">r</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">trial_type</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">pd_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">r</span><span class="p">],</span> <span class="n">vmin</span><span class="o">=-.</span><span class="mi">5</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                    <span class="n">cbar</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">cbar_ax</span><span class="o">=</span><span class="n">cbar_ax</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">r</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">trial_type</span><span class="p">)</span>
    <span class="c1"># iterate over rows</span>
    <span class="n">r</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/sphx_glr_plot_run_nibetaseries_001.png" class="sphx-glr-single-img" src="../_images/sphx_glr_plot_run_nibetaseries_001.png" />
<p><strong>Total running time of the script:</strong> ( 2 minutes  32.125 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-plot-run-nibetaseries-py">
<div class="sphx-glr-download docutils container">
<a class="reference download internal" download="" href="../_downloads/8d2d4e4f9670cf51a53a5963d325366e/plot_run_nibetaseries.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_run_nibetaseries.py</span></code></a></div>
<div class="sphx-glr-download docutils container">
<a class="reference download internal" download="" href="../_downloads/803490b76d5843cd349d9960e1998c90/plot_run_nibetaseries.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_run_nibetaseries.ipynb</span></code></a></div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.readthedocs.io">Gallery generated by Sphinx-Gallery</a></p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../workflows.html" class="btn btn-neutral float-right" title="Workflows" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="How to run NiBetaSeries" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, James Kent

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: master
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../v0.0.1/index.html">v0.0.1</a></dd>
            <dd><a href="../v0.2.0/index.html">v0.2.0</a></dd>
            <dd><a href="../v0.2.1/index.html">v0.2.1</a></dd>
            <dd><a href="../v0.2.2/index.html">v0.2.2</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../master/auto_examples/plot_run_nibetaseries.html">master</a></dd>
        </dl>
    </div>
</div>


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>